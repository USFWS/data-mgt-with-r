---
output: html_document
editor_options: 
  chunk_output_type: console
---

### Target output: *Submerged aquatic vegetation - Mattamuskeet NWR*

.center[![:genv 500px, shadow](images/sav.png)]

```{r, echo = FALSE, eval = TRUE, message = FALSE, warning = FALSE}
library(sf); library(ggplot2)
sav_pts <- readRDS("~/FWS_Projects/Requests_for_assistance/data-mgt-with-r/docs/adam/data/sav_obs.rds")
sav_model_fit <- readRDS("~/FWS_Projects/Requests_for_assistance/data-mgt-with-r/docs/adam/data/gridded_sav.rds")
LM_bound <- readRDS("~/FWS_Projects/Requests_for_assistance/data-mgt-with-r/docs/adam/data/LM.rds")
```

---
.pull-left[.smallest[
```{r, echo = TRUE, eval = FALSE}
ggplot(data = sav_model_fit) #<<
```
]]

.pull-right[
```{r, echo = FALSE, eval = TRUE}
ggplot(data = sav_model_fit)
```
]

---
count: false

.pull-left[.smallest[
```{r, echo = TRUE, eval = FALSE}
ggplot(data = sav_model_fit) + 
  geom_raster(aes(x = x, y = y, fill = sav)) #<<
```
]]

.pull-right[
```{r, echo = FALSE, eval = TRUE}
ggplot(data = sav_model_fit) + 
  geom_raster(aes(x = x, y = y, fill = sav))
```
]

---
count: false

.pull-left[.smallest[
```{r, echo = TRUE, eval = FALSE}
ggplot(data = sav_model_fit) + 
  geom_raster(aes(x = x, y = y, fill = sav)) + 
  geom_sf(data = LM_bound, color = "black", fill = NA) #<<
```
]]

.pull-right[
```{r, echo = FALSE, eval = TRUE}
ggplot(data = sav_model_fit) + 
  geom_raster(aes(x = x, y = y, fill = sav)) + 
  geom_sf(data = LM_bound, color = "black", fill = NA)
```
]

---
count: false

.pull-left[.smallest[
```{r, echo = TRUE, eval = FALSE}
ggplot(data = sav_model_fit) + 
  geom_raster(aes(x = x, y = y, fill = sav)) + 
  geom_sf(data = LM_bound, color = "black", fill = NA) +
  geom_point(data = sav_pts, aes(x, y, fill = sav), shape = 21) #<<
```
]]

.pull-right[
```{r, echo = FALSE, eval = TRUE}
ggplot(data = sav_model_fit) + 
  geom_raster(aes(x = x, y = y, fill = sav)) + 
  geom_sf(data = LM_bound, color = "black", fill = NA) +
  geom_point(data = sav_pts, aes(x, y, fill = sav), shape = 21)
```
]

---
count: false

.pull-left[.smallest[
```{r, echo = TRUE, eval = FALSE}
ggplot(data = sav_model_fit) + 
  geom_raster(aes(x = x, y = y, fill = sav)) + 
  geom_sf(data = LM_bound, color = "black", fill = NA) +
  geom_point(data = sav_pts, aes(x, y, fill = sav), shape = 21) + 
  scale_fill_viridis_c("Proportion\nSAV", #<< 
                     breaks = c(0, 0.1, 0.4, 0.7, 1), #<<
                     limits = c(0,1)) #<<
```
]]

.pull-right[
```{r, echo = FALSE, eval = TRUE}
ggplot(data = sav_model_fit) + 
  geom_raster(aes(x = x, y = y, fill = sav)) + 
  geom_sf(data = LM_bound, color = "black", fill = NA) +
  geom_point(data = sav_pts, aes(x, y, fill = sav), shape = 21) + 
  scale_fill_viridis_c("Proportion\nSAV", 
                     breaks = c(0, 0.1, 0.4, 0.7, 1), 
                     limits = c(0,1))
```
]

---
count: false

.pull-left[.smallest[
```{r, echo = TRUE, eval = FALSE}
ggplot(data = sav_model_fit) + 
  geom_raster(aes(x = x, y = y, fill = sav)) + 
  geom_sf(data = LM_bound, color = "black", fill = NA) +
  geom_point(data = sav_pts, aes(x, y, fill = sav), shape = 21) + 
  scale_fill_viridis_c("Proportion\nSAV", 
                     breaks = c(0, 0.1, 0.4, 0.7, 1), 
                     limits = c(0,1)) +
  coord_sf() #<<
```
]]

.pull-right[
```{r, echo = FALSE, eval = TRUE}
ggplot(data = sav_model_fit) + 
  geom_raster(aes(x = x, y = y, fill = sav)) + 
  geom_sf(data = LM_bound, color = "black", fill = NA) +
  geom_point(data = sav_pts, aes(x, y, fill = sav), shape = 21) + 
  scale_fill_viridis_c("Proportion\nSAV", 
                     breaks = c(0, 0.1, 0.4, 0.7, 1), 
                     limits = c(0,1)) +
  coord_sf()
```
]

---
count: false

.pull-left[.smallest[
```{r, echo = TRUE, eval = FALSE}
ggplot(data = sav_model_fit) + 
  geom_raster(aes(x = x, y = y, fill = sav)) + 
  geom_sf(data = LM_bound, color = "black", fill = NA) +
  geom_point(data = sav_pts, aes(x, y, fill = sav), shape = 21) + 
  scale_fill_viridis_c("Proportion\nSAV", 
                     breaks = c(0, 0.1, 0.4, 0.7, 1), 
                     limits = c(0,1)) +
  coord_sf() +
  labs(title = "Distribution of SAV on Lake Mattamuskeet", #<<
       subtitle = "2004", #<<
       x = NULL, y = NULL) #<<
```
]]

.pull-right[
```{r, echo = FALSE, eval = TRUE}
ggplot(data = sav_model_fit) + 
  geom_raster(aes(x = x, y = y, fill = sav)) + 
  geom_sf(data = LM_bound, color = "black", fill = NA) +
  geom_point(data = sav_pts, aes(x, y, fill = sav), shape = 21) + 
  scale_fill_viridis_c("Proportion\nSAV", 
                     breaks = c(0, 0.1, 0.4, 0.7, 1), 
                     limits = c(0,1)) +
  coord_sf() +
  labs(title = "Distribution of SAV on Lake Mattamuskeet",
       subtitle = "2004",
       x = NULL, y = NULL)
```
]

---
count: false

.pull-left[.smallest[
```{r, echo = TRUE, eval = FALSE}
ggplot(data = sav_model_fit) + 
  geom_raster(aes(x = x, y = y, fill = sav)) + 
  geom_sf(data = LM_bound, color = "black", fill = NA) +
  geom_point(data = sav_pts, aes(x, y, fill = sav), shape = 21) + 
  scale_fill_viridis_c("Proportion\nSAV", 
                     breaks = c(0, 0.1, 0.4, 0.7, 1), 
                     limits = c(0,1)) +
  coord_sf() +
  labs(title = "Distribution of SAV on Lake Mattamuskeet",
       subtitle = "2004",
       x = NULL, y = NULL) +
  theme_bw() #<<
```
]]

.pull-right[
```{r, echo = FALSE, eval = TRUE}
ggplot(data = sav_model_fit) + 
  geom_raster(aes(x = x, y = y, fill = sav)) + 
  geom_sf(data = LM_bound, color = "black", fill = NA) +
  geom_point(data = sav_pts, aes(x, y, fill = sav), shape = 21) + 
  scale_fill_viridis_c("Proportion\nSAV", 
                     breaks = c(0, 0.1, 0.4, 0.7, 1), 
                     limits = c(0,1)) +
  coord_sf() +
  labs(title = "Distribution of SAV on Lake Mattamuskeet",
       subtitle = "2004",
       x = NULL, y = NULL) +
  theme_bw()
```
]

```{css, echo = FALSE}
.box{
  text-align: center;
  float:left;
  margin-right:20px;
}
.clear{
    clear:both;
}
```

--

.pull-left[.right[<iframe width="356" height="200" src="https://www.youtube.com/embed/h29g21z0a68" frameborder="0" allowfullscreen></iframe>]]
.pull-right[.left[<iframe width="356" height="200" src="https://www.youtube.com/embed/0m4yywqNPVY" frameborder="0" allowfullscreen></iframe>]]
